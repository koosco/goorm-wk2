FROM amazoncorretto:17

ARG JWT_SECRET=9bc0a269dbe8910fa16ced43ef5d14113a120fe1ab2d9b66bbd4c9bc0a269dbe8910fa16ced43ef5d14113
ARG JWT_TOKEN_VALIDITY_TIME=86400000
ARG BLACKLIST_VALIDITY_TIME=86400000

ENV spring.datasource.initialization-mode=never
ENV JWT_SECRET=${JWT_SECRET}
ENV JWT_TOKEN_VALIDITY_TIME=${JWT_TOKEN_VALIDITY_TIME}
ENV BLACKLIST_VALIDITY_TIME=${BLACKLIST_VALIDITY_TIME}

COPY ./build/libs/goorm-week2-0.0.1-SNAPSHOT.jar /opt/application.jar

WORKDIR /opt/

CMD ["java", "-jar", "/opt/application.jar"]